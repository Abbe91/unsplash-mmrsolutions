{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abdullahabualhaijja/mmrsoultions/unsplash-mmrsolutions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/abdullahabualhaijja/mmrsoultions/unsplash-mmrsolutions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/abdullahabualhaijja/mmrsoultions/unsplash-mmrsolutions/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// import React, { useEffect, useState } from 'react'\n// import Image from './image'\n// import { getImage, getSearchImages } from '../api/api'\n// const Gallery = ({ query }) => {\n//   const [imagList, setImageList] = useState([])\n//   useEffect(() => {\n//     getImage().then((data) => {\n//       setImageList(data)\n//     })\n//   }, [])\n//   useEffect(async () => {\n//     const data = await getSearchImages(query)\n//     setImageList(data)\n//     // console.log(data)\n//   }, [query])\n//   return (\n//     <div>\n//       {imagList.map((img) => {\n//         return <Image src={img.urls.small} key={img.id} />\n//       })}\n//     </div>\n//   )\n// }\n// export default Gallery\nimport React,{useEffect,useState}from'react';import Modal from'react-modal';import Image from'./image';import{getSearchImages,getImage}from'../api/api';import Masonry from'react-masonry-component';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var modalStyle={content:{border:'none',padding:'none',overflow:'none'// background: \"none\",\n}};var Gallery=function Gallery(_ref){var query=_ref.query;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),imgList=_useState2[0],setImgList=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),currentImg=_useState4[0],setCurrentImg=_useState4[1];useEffect(function(){getImage().then(function(data){//   console.log(data);\nsetImgList(data);});},[]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(query.trim()==='')){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return getSearchImages(query);case 4:data=_context.sent;setImgList(data);// console.log(data);\ncase 6:case\"end\":return _context.stop();}}},_callee);})),[query]);Modal.setAppElement('#app');return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Modal,{contentLabel:\"Image preview\",style:modalStyle,isOpen:!!currentImg,onRequestClose:function onRequestClose(){return setCurrentImg(null);},children:/*#__PURE__*/_jsx(\"img\",{className:\"img-preview\",src:currentImg,alt:\"image preview\"})}),imgList.length===0?/*#__PURE__*/_jsx(\"h2\",{children:\"No images found\"}):null,/*#__PURE__*/_jsx(Masonry,{className:\"grid-container\",options:{isFitWidth:true},children:imgList.map(function(img){return/*#__PURE__*/_jsx(Image,{urls:img.urls,handleClick:setCurrentImg},img.id);})})]});};export default Gallery;","map":{"version":3,"sources":["/Users/abdullahabualhaijja/mmrsoultions/unsplash-mmrsolutions/src/components/gallery.jsx"],"names":["React","useEffect","useState","Modal","Image","getSearchImages","getImage","Masonry","modalStyle","content","border","padding","overflow","Gallery","query","imgList","setImgList","currentImg","setCurrentImg","then","data","trim","setAppElement","length","isFitWidth","map","img","urls","id"],"mappings":"yhBAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,OAASC,eAAT,CAA0BC,QAA1B,KAA0C,YAA1C,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,OAAO,CAAE,CACPC,MAAM,CAAE,MADD,CAEPC,OAAO,CAAE,MAFF,CAGPC,QAAQ,CAAE,MACV;AAJO,CADQ,CAAnB,CAQA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAe,IAAZC,CAAAA,KAAY,MAAZA,KAAY,CAC7B,cAA8BZ,QAAQ,CAAC,EAAD,CAAtC,wCAAOa,OAAP,eAAgBC,UAAhB,eACA,eAAoCd,QAAQ,CAAC,IAAD,CAA5C,yCAAOe,UAAP,eAAmBC,aAAnB,eAEAjB,SAAS,CAAC,UAAM,CACdK,QAAQ,GAAGa,IAAX,CAAgB,SAACC,IAAD,CAAU,CACxB;AACAJ,UAAU,CAACI,IAAD,CAAV,CACD,CAHD,EAID,CALQ,CAKN,EALM,CAAT,CAOAnB,SAAS,sEAAC,iJACJa,KAAK,CAACO,IAAN,KAAiB,EADb,wFAIWhB,CAAAA,eAAe,CAACS,KAAD,CAJ1B,QAIFM,IAJE,eAKRJ,UAAU,CAACI,IAAD,CAAV,CACA;AANQ,sDAAD,GAON,CAACN,KAAD,CAPM,CAAT,CASAX,KAAK,CAACmB,aAAN,CAAoB,MAApB,EACA,mBACE,oCACE,KAAC,KAAD,EACE,YAAY,CAAC,eADf,CAEE,KAAK,CAAEd,UAFT,CAGE,MAAM,CAAE,CAAC,CAACS,UAHZ,CAIE,cAAc,CAAE,gCAAMC,CAAAA,aAAa,CAAC,IAAD,CAAnB,EAJlB,uBAME,YAAK,SAAS,CAAC,aAAf,CAA6B,GAAG,CAAED,UAAlC,CAA8C,GAAG,CAAC,eAAlD,EANF,EADF,CAUGF,OAAO,CAACQ,MAAR,GAAmB,CAAnB,cAAuB,uCAAvB,CAAkD,IAVrD,cAWE,KAAC,OAAD,EAAS,SAAS,CAAC,gBAAnB,CAAoC,OAAO,CAAE,CAAEC,UAAU,CAAE,IAAd,CAA7C,UACGT,OAAO,CAACU,GAAR,CAAY,SAACC,GAAD,CAAS,CACpB,mBACE,KAAC,KAAD,EAAO,IAAI,CAAEA,GAAG,CAACC,IAAjB,CAAuB,WAAW,CAAET,aAApC,EAAwDQ,GAAG,CAACE,EAA5D,CADF,CAGD,CAJA,CADH,EAXF,GADF,CAqBD,CA1CD,CA4CA,cAAef,CAAAA,OAAf","sourcesContent":["// import React, { useEffect, useState } from 'react'\n// import Image from './image'\n// import { getImage, getSearchImages } from '../api/api'\n\n// const Gallery = ({ query }) => {\n//   const [imagList, setImageList] = useState([])\n//   useEffect(() => {\n//     getImage().then((data) => {\n//       setImageList(data)\n//     })\n//   }, [])\n//   useEffect(async () => {\n//     const data = await getSearchImages(query)\n//     setImageList(data)\n//     // console.log(data)\n//   }, [query])\n//   return (\n//     <div>\n//       {imagList.map((img) => {\n//         return <Image src={img.urls.small} key={img.id} />\n//       })}\n//     </div>\n//   )\n// }\n// export default Gallery\nimport React, { useEffect, useState } from 'react'\nimport Modal from 'react-modal'\nimport Image from './image'\n\nimport { getSearchImages, getImage } from '../api/api'\nimport Masonry from 'react-masonry-component'\n\nconst modalStyle = {\n  content: {\n    border: 'none',\n    padding: 'none',\n    overflow: 'none',\n    // background: \"none\",\n  },\n}\nconst Gallery = ({ query }) => {\n  const [imgList, setImgList] = useState([])\n  const [currentImg, setCurrentImg] = useState(null)\n\n  useEffect(() => {\n    getImage().then((data) => {\n      //   console.log(data);\n      setImgList(data)\n    })\n  }, [])\n\n  useEffect(async () => {\n    if (query.trim() === '') {\n      return\n    }\n    const data = await getSearchImages(query)\n    setImgList(data)\n    // console.log(data);\n  }, [query])\n\n  Modal.setAppElement('#app')\n  return (\n    <div>\n      <Modal\n        contentLabel=\"Image preview\"\n        style={modalStyle}\n        isOpen={!!currentImg}\n        onRequestClose={() => setCurrentImg(null)}\n      >\n        <img className=\"img-preview\" src={currentImg} alt=\"image preview\" />\n      </Modal>\n\n      {imgList.length === 0 ? <h2>No images found</h2> : null}\n      <Masonry className=\"grid-container\" options={{ isFitWidth: true }}>\n        {imgList.map((img) => {\n          return (\n            <Image urls={img.urls} handleClick={setCurrentImg} key={img.id} />\n          )\n        })}\n      </Masonry>\n    </div>\n  )\n}\n\nexport default Gallery\n"]},"metadata":{},"sourceType":"module"}